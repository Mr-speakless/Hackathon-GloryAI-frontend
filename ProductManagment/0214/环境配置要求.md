# GloryAI 环境配置要求（Windows + WSL）

更新时间：2026-02-15
适用项目：`E:\设计项目\GloryAI`
目标：确保你可以在 WSL 中独立完成前端开发、运行与复现。

## 1. 系统与工具要求

- 操作系统：Windows 10/11
- WSL：WSL2（建议 Ubuntu 22.04 或 24.04）
- Node.js：`v20.x LTS`（推荐）或 `v22.x LTS`
- npm：`>=10`
- Git：`>=2.40`
- 编辑器：VS Code + Remote - WSL 插件（推荐）

## 2. WSL 基础确认（在 PowerShell 执行）

```powershell
wsl -l -v
```

预期：看到你的 Linux 发行版，且版本为 `2`。

如果不是 WSL2：

```powershell
wsl --set-version <发行版名称> 2
```

## 3. 在 WSL 中安装 Node.js（推荐 nvm）

先进入 WSL：

```powershell
wsl
```

在 WSL 里执行：

```bash
# 1) 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash

# 2) 使 nvm 生效（若未自动生效）
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"

# 3) 安装并使用 Node 20 LTS
nvm install 20
nvm use 20
nvm alias default 20
```

校验：

```bash
node -v
npm -v
```

预期：
- `node -v` 输出 `v20.x.x`
- `npm -v` 输出 `10.x.x` 或更高

## 4. Git 配置（在 WSL）

```bash
git --version
git config --global user.name "你的名字"
git config --global user.email "你的邮箱"
```

## 5. 项目目录与权限建议

项目位于 Windows 盘：`/mnt/e/设计项目/GloryAI`

进入项目：

```bash
cd /mnt/e/设计项目/GloryAI
ls -la
```

说明：
- 在 `/mnt/e` 下开发可行，便于与 Windows IDE 共用文件。
- 若遇到性能问题，可后续迁移到 WSL Linux 文件系统（如 `~/projects`）。

## 6. 前端初始化与运行（在 WSL）

```bash
cd /mnt/e/设计项目/GloryAI
npm create vite@latest frontend -- --template react
cd frontend
npm install
npm install axios
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
npm run dev -- --host
```

说明：
- `--host` 让 Windows 浏览器可访问 WSL 启动的 dev server。
- 默认访问地址通常为 `http://localhost:5173`。

## 7. 必要验证清单

在 WSL 执行：

```bash
node -v
npm -v
git --version
cd /mnt/e/设计项目/GloryAI/frontend
npm run dev -- --host
```

在浏览器验证：
- 打开 `http://localhost:5173`
- 能看到 Vite React 初始页面

## 8. 常见问题排查

### 8.1 `node: command not found`

原因：Node 未安装或 nvm 未加载。

处理：
```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
node -v
```

建议把以下内容放到 `~/.bashrc` 或 `~/.zshrc`：
```bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
```

### 8.2 `npm create` 卡住或失败

可能是网络或 registry 问题，先切换镜像后重试：

```bash
npm config set registry https://registry.npmmirror.com
npm config get registry
```

### 8.3 端口被占用（5173）

```bash
lsof -i :5173
# 或直接改端口
npm run dev -- --host --port 5174
```

### 8.4 文件换行或编码问题

建议：
- 统一 UTF-8
- Git 配置：

```bash
git config --global core.autocrlf input
```

## 9. 你完成后发我这 4 条输出

请把以下命令输出贴给我，我就可以无缝继续执行开发：

```bash
node -v
npm -v
git --version
ls -la /mnt/e/设计项目/GloryAI
```

完成后我会继续：
1. 按 Lofi 搭建页面骨架
2. 接入 mock 数据与状态机流程
3. 每一步同步写执行日志，保证你可以完全复现
